<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Top up game murah, cepat, dan terpercaya. Saldoin menyediakan berbagai layanan digital termasuk Diamond Mobile Legends, Free Fire, UC PUBG, dan item game lainnya. Nikmati pengalaman isi ulang instan, aman, dan harga terjangkau hanya di Saldoin.my.id - solusi terbaik untuk kebutuhan top up dan produk digital Anda."
        />
        <meta
            property="og:title"
            content="Saldoin.my.id - Top Up Game Murah & Instan"
        />
        <meta
            property="og:description"
            content="Top up game favoritmu seperti MLBB, Free Fire, PUBG, dan lainnya dengan harga murah, proses cepat, dan aman di Saldoin.my.id!"
        />
        <meta property="og:image" content="assets/IMG_1344-min.png" />
        <meta property="og:url" content="https://saldoin.my.id/" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Saldoin.my.id" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="Saldoin.my.id - Top Up Game Murah & Instan"
        />
        <meta
            name="twitter:description"
            content="Top up MLBB, FF, PUBG, dan game lainnya cepat, murah, & terpercaya di Saldoin.my.id"
        />
        <meta name="twitter:image" content="assets/IMG_1344-min.png" />
        <meta name="author" content="Saldoin" />
        <link rel="canonical" href="https://saldoin.my.id/" />
        <title>
            Saldoin - Beli Voucher dan Top Up Game Murah, Cepat & Terpercaya
        </title>
        <link
            rel="icon"
            type="image/png"
            href="/favicon-96x96.png"
            sizes="96x96"
        />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/apple-touch-icon.png"
        />
        <meta name="apple-mobile-web-app-title" content="Saldoin" />
        <link rel="manifest" href="/site.webmanifest" />
        <link
            href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400;600;800&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="css/style.css" />
        <script src="js/jquery-3.7.1.min.js"></script>
    </head>
    <body>
        <div class="root">
            <div class="app">
                <header class="header">
                    <div class="group sub-navbar flex">
                        <div class="btn user-profile">
                            <img
                                class="logo logo-1"
                                src="assets/IMG_1037.png"
                                alt="Saldoin Logo"
                                height="30"
                                loading="lazy"
                            />
                        </div>
                        <div class="auth flex">
                            <div class="btn btn-daftar" id="btnDaftar">
                                Daftar
                            </div>
                            <div class="btn btn-masuk" id="btnMasuk">Masuk</div>
                            <button class="btn-bars" id="btnBars">
                                <span
                                    class="material-symbols-outlined"
                                    id="menuIcon"
                                    >menu</span
                                >
                                <span
                                    class="material-symbols-outlined"
                                    id="closeIcon"
                                    style="display: none"
                                    >close</span
                                >
                            </button>
                        </div>
                    </div>

                    <nav class="group menu flex" id="menuSection">
                        <ul id="linkTrigger" class="menu-list flex">
                            <li
                                class="link-item active"
                                data-page="beranda.html"
                            >
                                Beranda
                            </li>
                            <li class="link-item" data-page="payment.html">
                                Metode Pembayaran
                            </li>
                            <li class="link-item" data-page="cara-order.html">
                                Cara Order
                            </li>
                            <li class="link-item" data-page="testimoni.html">
                                Testimoni
                            </li>
                            <li class="link-item" data-page="about.html">
                                Tentang
                            </li>
                            <li class="link-item" data-page="kontak.html">
                                Kontak
                            </li>
                            <li class="link-item" data-page="kebijakan.html">
                                Kebijakan
                            </li>
                            <li class="link-item" data-page="faq.html">FAQ</li>
                        </ul>
                    </nav>
                </header>

                <div class="skeleton-container" id="skeletonLoader">
                    <div class="skeleton-banner"></div>
                    <div class="skeleton-icons">
                        <div class="skeleton-icon"></div>
                        <div class="skeleton-icon"></div>
                        <div class="skeleton-icon"></div>
                        <div class="skeleton-icon"></div>
                    </div>
                    <div class="skeleton-text-block">
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line long"></div>
                        <div class="skeleton-line long"></div>
                        <div class="skeleton-button"></div>
                    </div>
                    <section class="skeleton-section">
                        <div class="skeleton-title"></div>
                        <div class="skeleton-populer-grid">
                            <div class="skeleton-card"></div>
                            <div class="skeleton-card"></div>
                            <div class="skeleton-card"></div>
                            <div class="skeleton-card"></div>
                        </div>
                    </section>

                    <section class="skeleton-footer">
                        <div class="skeleton-footer-title"></div>
                        <div class="skeleton-contact-icons">
                            <div class="skeleton-icon-circle"></div>
                            <div class="skeleton-icon-circle"></div>
                            <div class="skeleton-icon-circle"></div>
                        </div>
                        <div class="skeleton-footer-text short"></div>
                        <div class="skeleton-footer-text"></div>
                    </section>
                </div>

                <main id="realContent" style="display: none">
                    <section class="container-ed">
                        <div class="carousel" id="simpleCarousel">
                            <div class="carousel-inner">
                                <div class="carousel-text">
                                    <a
                                        href="https://www.instagram.com/saldoin.my.id"
                                        target="_blank"
                                        >@saldoin.my.id</a
                                    ><a
                                        href="https://saldoin.my.id"
                                        target="_blank"
                                        >www.saldoin.my.id</a
                                    >
                                    <img
                                        src="assets/IMG_1037.png"
                                        alt="Logo Saldoin.my.id"
                                        height="16px"
                                    />
                                </div>
                                <div class="carousel-slide active">
                                    <img
                                        src="assets/banner5.jpeg"
                                        alt="Banner 1"
                                        loading="lazy"
                                        onerror="this.onerror=null;this.src='https://placehold.co/768x240/aabbcc/ffffff?text=Banner+1'"
                                    />
                                </div>
                                <div class="carousel-slide">
                                    <img
                                        src="assets/banner6.jpeg"
                                        alt="Banner 2"
                                        loading="lazy"
                                        onerror="this.onerror=null;this.src='https://placehold.co/768x240/aabbcc/ffffff?text=Banner+2'"
                                    />
                                </div>
                                <div class="carousel-slide">
                                    <img
                                        src="assets/banner7.jpeg"
                                        alt="Banner 3"
                                        loading="lazy"
                                        onerror="this.onerror=null;this.src='https://placehold.co/768x240/aabbcc/ffffff?text=Banner+3'"
                                    />
                                </div>
                                <div class="carousel-slide">
                                    <img
                                        src="assets/banner8.jpeg"
                                        alt="Banner 4"
                                        loading="lazy"
                                        onerror="this.onerror=null;this.src='https://placehold.co/768x240/aabbcc/ffffff?text=Banner+4'"
                                    />
                                </div>
                                <div class="carousel-slide">
                                    <img
                                        src="assets/banner9.webp"
                                        alt="Banner 4"
                                        loading="lazy"
                                        onerror="this.onerror=null;this.src='https://placehold.co/768x240/aabbcc/ffffff?text=Banner+4'"
                                    />
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="container menu-topup">
                        <span class="container-label"
                            >ISI ULANG & TOP UP JUGA BISA LOH!</span
                        >
                        <div class="prduk-isi">
                            <ul class="list-item" id="productFillList"></ul>
                        </div>
                    </section>
                    <section class="container">
                        <div id="wrapperContent"></div>
                    </section>
                    <section class="artikel-terbaru container">
                        <h3>📌 Artikel Terbaru</h3>
                        <ul class="list-artikel" id="list-artikel"></ul>
                    </section>
                    <section class="container populer">
                        <div class="container-label flex">
                            <div class="label-title">TERPOPULER</div>
                            <div class="view-all-item" id="viewAllPopular">
                                Lihat Semua
                            </div>
                        </div>
                        <ul class="produk flex" id="populerList"></ul>
                    </section>
                </main>

                <footer class="footer">
                    <section class="container flex contacts">
                        <div class="contact-heading">DUKUNGAN PELANGGAN</div>
                        <div class="contact-title">Hubungi kami</div>
                        <ul class="contact-menu flex">
                            <li class="contact-list">
                                <a
                                    href="https://www.instagram.com/saldoin.my.id"
                                    target="_blank"
                                >
                                    <img
                                        src="assets/instagram.jpg"
                                        alt="instagram"
                                        width="50px"
                                        onerror="this.onerror=null;this.src='https://placehold.co/50x50/aabbcc/ffffff?text=IG'"
                                    />
                                </a>
                            </li>
                            <li class="contact-list">
                                <a
                                    href="https://wa.me/6281373634190"
                                    target="_blank"
                                >
                                    <img
                                        src="assets/whatsapp.jpg"
                                        alt="whatsapp"
                                        width="50px"
                                        onerror="this.onerror=null;this.src='https://placehold.co/50x50/aabbcc/ffffff?text=WA'"
                                    />
                                </a>
                            </li>
                            <li class="contact-list">
                                <a
                                    href="mailto:audialfasha@gmail.com"
                                    target="_blank"
                                >
                                    <img
                                        src="assets/gmail.png"
                                        alt="gmail"
                                        width="50px"
                                        onerror="this.onerror=null;this.src='https://placehold.co/50x50/aabbcc/ffffff?text=GM'"
                                    />
                                </a>
                            </li>
                        </ul>
                    </section>
                    <section class="container">
                        <p>&copy; 2025 Saldoin.my.id. All rights reserved.</p>
                        <p>
                            Ikuti kami di Instagram:
                            <a
                                href="https://www.instagram.com/saldoin.my.id"
                                target="_blank"
                                >@saldoin.my.id</a
                            >
                        </p>
                    </section>
                </footer>
            </div>
        </div>

        <script>
            // Objek `paymentInstructions` dipindahkan ke sini karena relevan dengan halaman payment.html
            // dan harus tersedia secara global atau dimuat bersamaan.
            const paymentInstructions = {
                qris: `
                <p><strong>Cara Pembayaran via QRIS:</strong></p>
                <p>1. Pindai kode QRIS yang muncul menggunakan aplikasi pembayaran (GoPay, OVO, DANA, mobile banking, dll.) Anda.</p>
                <p>2. Pastikan jumlah pembayaran sudah sesuai.</p>
                <p>3. Konfirmasi pembayaran.</p>
            `,
                dana: `
                <p><strong>Cara Pembayaran via DANA:</strong></p>
                <p>1. Pastikan saldo DANA Anda mencukupi.</p>
                <p>2. Anda akan diarahkan ke aplikasi DANA untuk menyelesaikan pembayaran.</p>
                <p>3. Ikuti instruksi di aplikasi DANA dan konfirmasi pembayaran.</p>
            `,
                ovo: `
                <p><strong>Cara Pembayaran via OVO:</strong></p>
                <p>1. Pastikan saldo OVO Anda mencukupi.</p>
                <p>2. Anda akan diarahkan ke aplikasi OVO untuk menyelesaikan pembayaran.</p>
                <p>3. Ikuti instruksi di aplikasi OVO dan konfirmasi pembayaran.</p>
            `,
                linkaja: `
                <p><strong>Cara Pembayaran via LinkAja:</strong></p>
                <p>1. Pastikan saldo LinkAja Anda mencukupi.</p>
                <p>2. Anda akan diarahkan ke aplikasi LinkAja untuk menyelesaikan pembayaran.</p>
                <p>3. Ikuti instruksi di aplikasi LinkAja dan konfirmasi pembayaran.</p>
            `,
                alfamart: `
                <p><strong>Cara Pembayaran via Alfamart:</strong></p>
                <p>1. Anda akan menerima kode pembayaran.</p>
                <p>2. Kunjungi gerai Alfamart terdekat.</p>
                <p>3. Berikan kode pembayaran kepada kasir dan lakukan pembayaran.</p>
                <p>4. Simpan struk sebagai bukti pembayaran.</p>
            `,
                indomaret: `
                <p><strong>Cara Pembayaran via Indomaret:</strong></p>
                <p>1. Anda akan menerima kode pembayaran.</p>
                <p>2. Kunjungi gerai Indomaret terdekat.</p>
                <p>3. Berikan kode pembayaran kepada kasir dan lakukan pembayaran.</p>
                <p>4. Simpan struk sebagai bukti pembayaran.</p>
            `,
                briva: `
                <p><strong>Cara Pembayaran via BRIVA (Bank BRI Virtual Account):</strong></p>
                <p>1. Salin nomor Virtual Account BRI Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui ATM BRI, BRImo (Mobile Banking), atau Internet Banking BRI.</p>
                <p>3. Pilih 'Pembayaran' > 'BRIVA' dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-mandiri': `
                <p><strong>Cara Pembayaran via Virtual Account Mandiri:</strong></p>
                <p>1. Salin nomor Virtual Account Mandiri Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui Livin' by Mandiri, ATM Mandiri, atau Internet Banking Mandiri.</p>
                <p>3. Pilih menu 'Bayar' atau 'Transfer' ke Virtual Account dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-bni': `
                <p><strong>Cara Pembayaran via Virtual Account BNI:</strong></p>
                <p>1. Salin nomor Virtual Account BNI Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui BNI Mobile Banking, ATM BNI, atau Internet Banking BNI.</p>
                <p>3. Pilih 'Transfer' > 'Virtual Account Billing' dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-danamon': `
                <p><strong>Cara Pembayaran via Virtual Account Danamon:</strong></p>
                <p>1. Salin nomor Virtual Account Danamon Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui D-Bank Mobile, ATM Danamon, atau Internet Banking Danamon.</p>
                <p>3. Pilih menu Transfer atau Pembayaran Virtual Account dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-permata': `
                <p><strong>Cara Pembayaran via Virtual Account Permata:</strong></p>
                <p>1. Salin nomor Virtual Account Permata Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui PermataMobile X, ATM Permata, atau bank lain (via transfer ke Permata).</p>
                <p>3. Pilih menu Transfer atau Pembayaran Virtual Account dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-cimb': `
                <p><strong>Cara Pembayaran via Virtual Account CIMB Niaga:</strong></p>
                <p>1. Salin nomor Virtual Account CIMB Niaga Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui OCTO Mobile, ATM CIMB Niaga, atau bank lain (via transfer ke CIMB Niaga).</p>
                <p>3. Pilih menu Transfer atau Pembayaran Virtual Account dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
                'va-bsi': `
                <p><strong>Cara Pembayaran via Virtual Account BSI:</strong></p>
                <p>1. Salin nomor Virtual Account BSI Anda: <strong>XXX-XXXX-XXXX</strong> (akan muncul setelah konfirmasi).</p>
                <p>2. Lakukan pembayaran melalui BSI Mobile, ATM BSI, atau bank lain (via transfer ke BSI).</p>
                <p>3. Pilih menu Transfer atau Pembayaran Virtual Account dan masukkan nomor Virtual Account.</p>
                <p>4. Ikuti instruksi di layar hingga pembayaran berhasil.</p>
            `,
            }

            let selectedMethod = null

            /**
             * Mengisi daftar produk isi ulang ke dalam elemen HTML.
             * Produk ini sebelumnya memiliki `onclick` inline.
             */
            const loadProductFillItems = () => {
                const productFillList =
                    document.getElementById('productFillList')
                if (productFillList) {
                    const products = [
                        {
                            type: 'pulsa',
                            img: 'assets/pulsa.png',
                            alt: 'Pulsa',
                            text: 'Pulsa',
                        },
                        {
                            type: 'data',
                            img: 'assets/data.png',
                            alt: 'Paket Data',
                            text: 'Paket Data',
                        },
                        {
                            type: 'pln',
                            img: 'assets/token.png',
                            alt: 'Token Listrik',
                            text: 'Token Listrik',
                        },
                        {
                            type: 'e-wallet',
                            img: 'assets/e-wallet.png',
                            alt: 'E-Wallet',
                            text: 'E-Wallet',
                        },
                        {
                            type: 'all',
                            img: 'assets/icons/arrow.png',
                            alt: 'All Topup Saldoin',
                            text: 'Lainnya',
                        },
                    ]

                    productFillList.innerHTML = products
                        .map(
                            (product, index) => `
                    <li class="item-prduk" data-type="${product.type}">
                        <img src="${product.img}" alt="${
                                product.alt
                            }" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/25x25/aabbcc/ffffff?text=${product.text.charAt(
                                0
                            )}'" />
                        <span>${product.text}</span>
                    </li>
                `
                        )
                        .join('')

                    // Menambahkan event listener menggunakan delegasi event
                    productFillList.addEventListener('click', (event) => {
                        const listItem = event.target.closest('.item-prduk')
                        if (listItem) {
                            const type = listItem.dataset.type
                            window.location.href = `/page/store.html?type=${type}`
                        }
                    })
                }
            }

            /**
             * Memperbarui informasi instruksi metode pembayaran yang dipilih.
             */
            const updateSelectedMethodInfo = () => {
                const infoDiv = document.getElementById('selected-method-info')
                if (!infoDiv) {
                    console.warn(
                        'selected-method-info not found. This might be due to async content loading.'
                    )
                    return
                }

                if (selectedMethod && paymentInstructions[selectedMethod]) {
                    infoDiv.innerHTML = paymentInstructions[selectedMethod]
                } else {
                    infoDiv.innerHTML =
                        '<p>Pilih metode pembayaran di atas untuk melihat instruksi.</p>'
                }
            }

            /**
             * Menginisialisasi logika pembayaran setelah konten halaman pembayaran dimuat.
             */
            const initializePaymentLogic = () => {
                console.log('Initializing payment logic for loaded content...')
                const paymentItems = document.querySelectorAll(
                    '.payment-method-item'
                )
                paymentItems.forEach((item) => {
                    // Hapus listener lama untuk mencegah duplikasi jika initializePaymentLogic dipanggil ulang
                    item.removeEventListener('click', handlePaymentMethodClick)
                    item.addEventListener('click', handlePaymentMethodClick)
                })

                const infoDiv = document.getElementById('selected-method-info')
                if (infoDiv && !selectedMethod) {
                    infoDiv.innerHTML =
                        '<p>Pilih metode pembayaran di atas untuk melihat instruksi.</p>'
                }
            }

            /**
             * Handler untuk klik pada item metode pembayaran.
             * @param {Event} event - Objek event DOM.
             */
            const handlePaymentMethodClick = (event) => {
                document
                    .querySelectorAll('.payment-method-item')
                    .forEach((item) => {
                        item.classList.remove('selected')
                    })

                const clickedItem = event.currentTarget
                clickedItem.classList.add('selected')

                selectedMethod = clickedItem.dataset.method
                updateSelectedMethodInfo()
            }

            /**
             * Menampilkan modal kustom sebagai pengganti alert default browser.
             * @param {string} message - Pesan yang akan ditampilkan di modal.
             */
            const showCustomAlert = (message) => {
                const modal = document.createElement('div')
                modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `

                const modalContent = document.createElement('div')
                modalContent.style.cssText = `
                background-color: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                text-align: center;
                max-width: 300px;
                width: 90%;
            `

                const messageParagraph = document.createElement('p')
                messageParagraph.textContent = message
                messageParagraph.style.marginBottom = '20px'

                const closeButton = document.createElement('button')
                closeButton.textContent = 'OK'
                closeButton.style.cssText = `
                background-color: #2b7a78;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
            `
                closeButton.onclick = () => document.body.removeChild(modal)

                modalContent.appendChild(messageParagraph)
                modalContent.appendChild(closeButton)
                modal.appendChild(modalContent)
                document.body.appendChild(modal)
            }

            $(document).ready(() => {
                const $skeletonLoader = $('#skeletonLoader')
                const $realContent = $('#realContent')
                const $wrapperContent = $('#wrapperContent')
                const $menuSection = $('#menuSection')
                const $menuIcon = $('#menuIcon')
                const $closeIcon = $('#closeIcon')
                const $linkTrigger = $('#linkTrigger')
                const $populerList = $('#populerList')
                const $listArtikel = $('#list-artikel')
                const $simpleCarousel = $('#simpleCarousel')
                const slides = $simpleCarousel.find('.carousel-slide')
                const totalSlides = slides.length

                let currentPage = 'beranda.html'
                let currentIndex = 0

                // Handler untuk tombol Daftar dan Masuk
                $('#btnDaftar').on('click', () => {
                    window.location.href = 'https://www.saldoin.my.id/daftar'
                })

                $('#btnMasuk').on('click', () => {
                    window.location.href = 'https://www.saldoin.my.id/masuk'
                })

                // Handler untuk tombol menu mobile
                $('#btnBars').on('click', () => {
                    $menuSection.toggle()
                    if ($menuSection.is(':visible')) {
                        $closeIcon.show()
                        $menuIcon.hide()
                    } else {
                        $closeIcon.hide()
                        $menuIcon.show()
                    }
                })

                /**
                 * Memuat halaman konten dinamis.
                 * @param {string} page - Nama file HTML yang akan dimuat (misal: 'beranda.html').
                 */
                const loadPage = (page) => {
                    $skeletonLoader.fadeIn(200)
                    $realContent.fadeOut(200, () => {
                        $wrapperContent.load(
                            'page/' + page,
                            (res, status, xhr) => {
                                if (status === 'error') {
                                    $wrapperContent.html(
                                        '<p>Gagal memuat konten. Silakan coba lagi nanti.</p>'
                                    )
                                    console.error(
                                        'Error loading page:',
                                        xhr.status,
                                        xhr.statusText
                                    )
                                    showCustomAlert(
                                        'Terjadi kesalahan saat memuat konten. Silakan coba refresh halaman.'
                                    )
                                } else {
                                    // Setelah konten dimuat, jika itu payment.html, inisialisasi logika pembayaran
                                    if (page === 'payment.html') {
                                        // Reset selectedMethod saat memuat ulang halaman pembayaran
                                        selectedMethod = null
                                        // Gunakan sedikit delay untuk memastikan elemen dirender sebelum inisialisasi
                                        setTimeout(initializePaymentLogic, 50)
                                    }
                                    // Memuat ulang produk isi ulang setiap kali halaman berubah (opsional, tergantung kebutuhan)
                                    if (page === 'beranda.html') {
                                        loadProductFillItems()
                                    }
                                }
                                $skeletonLoader.fadeOut(200, () => {
                                    $realContent.fadeIn(200)
                                })
                            }
                        )
                    })
                }

                // Load awal (Beranda)
                loadPage(currentPage)
                loadProductFillItems() // Panggil juga saat loading awal untuk beranda

                // Handle klik menu navigasi
                $linkTrigger.on('click', '.link-item', function () {
                    const $this = $(this)
                    const page = $this.data('page')
                    if (page === currentPage) return

                    currentPage = page
                    $('.link-item').removeClass('active')
                    $this.addClass('active')
                    loadPage(page)
                })

                // Carousel sederhana
                const showSlide = (index) => {
                    slides.removeClass('active')
                    slides.eq(index).addClass('active')
                }

                const nextSlide = () => {
                    currentIndex = (currentIndex + 1) % totalSlides
                    showSlide(currentIndex)
                }

                setInterval(nextSlide, 4000) // Ganti slide setiap 4 detik

                // Load data JSON
                $.getJSON('data.json')
                    .done((data) => {
                        // Load produk populer
                        const produk = data.produk
                        // Memastikan ada cukup item di 'produk' sebelum looping
                        const itemsToLoad = Math.min(produk.length, 5) // Ambil maksimal 5 item atau kurang
                        for (let i = 1; i < itemsToLoad; i++) {
                            // Loop dari 0
                            const item = produk[i]
                            const alamat = item.address || '#'
                            $populerList.append(`
                            <li class="produk-item flex">
                                <img src="${
                                    item.img_product
                                }" loading="lazy" alt="${
                                item.nm_product
                            }" onerror="this.onerror=null;this.src='https://placehold.co/70x70/aabbcc/ffffff?text=P${
                                i + 1
                            }'" />
                                <p>#${i + 1}</p>
                                <button class="btn-choose" onclick="window.location.href='${alamat}'">BELI</button>
                            </li>
                        `)
                        }

                        // Load artikel terbaru
                        $listArtikel.empty() // Bersihkan daftar sebelum menambahkan
                        data.artikel_terbaru.forEach((item) => {
                            $listArtikel.append(
                                `<li><a href="${item.url}" target="_blank" rel="noopener noreferrer">${item.judul}</a></li>`
                            )
                        })
                    })
                    .fail((jqxhr, textStatus, error) => {
                        const err = textStatus + ', ' + error
                        console.error('Request Gagal: ' + err)
                        showCustomAlert(
                            'Gagal memuat data produk dan artikel. Silakan coba lagi.'
                        )
                    })

                // Handler untuk "Lihat Semua" produk populer
                $('#viewAllPopular').on('click', () => {
                    window.location.href = 'cari?type=topup'
                })
            })
            // Fungsi untuk mengkonversi HEX ke RGB
            function hexToRgb(hex) {
                const shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i
                hex = hex.replace(shorthandRegex, function (m, r, g, b) {
                    return r + r + g + g + b + b
                })
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(
                    hex
                )
                return result
                    ? {
                          r: parseInt(result[1], 16),
                          g: parseInt(result[2], 16),
                          b: parseInt(result[3], 16),
                      }
                    : null
            }

            // Fungsi untuk menghitung luminansi persepsi (perceived luminance)
            // Berdasarkan rekomendasi W3C untuk warna teks agar kontras baik
            function getPerceivedLuminance(r, g, b) {
                return (0.299 * r + 0.587 * g + 0.114 * b) / 255
            }

            // Fungsi utama untuk mengadaptasi warna teks
            // Parameter:
            //   - textElement: Elemen HTML yang teksnya ingin diadaptasi (misal: elemen <p>)
            //   - bgColor: Warna latar belakang elemen induk, bisa dalam format HEX (#RRGGBB) atau RGB (rgb(R,G,B))
            function adaptTextColor(textElement, bgColor) {
                let r, g, b

                // Mendapatkan komponen RGB dari warna latar belakang
                if (bgColor.startsWith('#')) {
                    const rgb = hexToRgb(bgColor)
                    if (rgb) {
                        r = rgb.r
                        g = rgb.g
                        b = rgb.b
                    } else {
                        console.error('Invalid hex color:', bgColor)
                        return
                    }
                } else if (bgColor.startsWith('rgb')) {
                    const matches = bgColor.match(/\d+/g)
                    if (matches && matches.length >= 3) {
                        r = parseInt(matches[0])
                        g = parseInt(matches[1])
                        b = parseInt(matches[2])
                    } else {
                        console.error('Invalid RGB color string:', bgColor)
                        return
                    }
                } else {
                    console.warn(
                        'Unsupported color format for adaptTextColor, defaulting to dark text.'
                    )
                    textElement.classList.remove('text-light')
                    textElement.classList.add('text-dark')
                    return
                }

                const luminance = getPerceivedLuminance(r, g, b)

                // Ambang batas (threshold) untuk memutuskan antara teks terang atau gelap
                // Anda mungkin perlu sedikit menyesuaikan nilai ini (antara 0.0 - 1.0)
                // Nilai yang lebih tinggi berarti latar belakang harus lebih terang untuk teks gelap.
                const threshold = 0.5

                if (luminance > threshold) {
                    // Latar belakang terang, gunakan teks gelap
                    textElement.classList.remove('text-light')
                    textElement.classList.add('text-dark')
                } else {
                    // Latar belakang gelap, gunakan teks terang
                    textElement.classList.remove('text-dark')
                    textElement.classList.add('text-light')
                }
            }

            // --- Contoh Penggunaan ---
            // Anda perlu memanggil fungsi adaptTextColor setiap kali warna latar belakang elemen induk berubah.

            // 1. Dapatkan referensi ke elemen teks dan elemen induknya
            // Misalnya, jika Anda memiliki struktur seperti ini di HTML:
            // <div id="mySection" style="background-color: #3498db;">
            //    <p id="myText">Teks ini akan beradaptasi.</p>
            // </div>
            const mySection = document.getElementById('mySection')
            const myText = document.getElementById('myText')

            // Pastikan elemen ditemukan sebelum mencoba memanipulasinya
            if (mySection && myText) {
                // Panggil fungsi saat halaman dimuat (untuk warna latar belakang awal)
                const initialBgColor =
                    window.getComputedStyle(mySection).backgroundColor
                adaptTextColor(myText, initialBgColor)

                // Contoh: Jika warna latar belakang berubah dinamis (misal dari input pengguna)
                // Anda akan memanggil adaptTextColor lagi.
                // Misalnya, Anda memiliki elemen input warna:
                // const colorPicker = document.getElementById('colorPickerId');
                // colorPicker.addEventListener('input', () => {
                //     const newBgColor = colorPicker.value; // Ini biasanya format HEX
                //     mySection.style.backgroundColor = newBgColor;
                //     adaptTextColor(myText, newBgColor);
                // });
            }
        </script>
    </body>
</html>
